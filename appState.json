{"EDITOR_STATE":{"allProjectFiles":{"bd7c8565-41d2-445c-9df7-05fe5e185a0f":{"id":"bd7c8565-41d2-445c-9df7-05fe5e185a0f","parent":null,"name":"new","type":"DIRECTORY","isDirectory":true,"children":["df9f0765-b99d-4378-8b2b-dea07adefce8","afa4753c-61e7-4cde-a830-40887332bb8c"],"isRemovable":false,"filePath":"new"},"df9f0765-b99d-4378-8b2b-dea07adefce8":{"id":"df9f0765-b99d-4378-8b2b-dea07adefce8","parent":"bd7c8565-41d2-445c-9df7-05fe5e185a0f","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"new/lambda.js","code":"let AWS = require('aws-sdk');\nlet connectionManager = require('./ConnectionManager');\nlet SL = require('@slappforge/slappforge-sdk');\nconst rds = new SL.AWS.RDS(connectionManager);\nconst s3 = new AWS.S3();\nconst ddb = new AWS.DynamoDB.DocumentClient();\nexports.handler = function (event, context, callback) {\n\tddb.get({\n\t\tTableName: 'ThuvvaTable',\n\t\tKey: { 'ID': 'test' }\n\t}, function (err, data) {\n\t\tif (err) {\n\t\t\t//handle error\n\t\t} else {\n\t\t\t//your logic goes here\n\t\t}\n\t});\n\ts3.getBucketLocation({\n\t\t'Bucket': \"hiru.test\"\n\t}).promise()\n\t\t.then(data => {\n\t\t\tconsole.log(data);           // successful response\n\t\t\t/*\n\t\t\tdata = {\n\t\t\t\tLocationConstraint: \"us-west-2\"\n\t\t\t}\n\t\t\t*/\n\t\t})\n\t\t.catch(err => {\n\t\t\tconsole.log(err, err.stack); // an error occurred\n\t\t});\n\n\t// You must always end/destroy the DB connection after it's used\n\trds.beginTransaction({\n\t\tinstanceIdentifier: 'hiru'\n\t}, function (error, connection) {\n\t\tif (error) { throw err; }\n\t});\n\n\n\n\t//test\n\tcallback(null, 'Successfully executed');\n}","triggers":[{"resourceName":"apigusEast1Hirutestget","config":{}}],"version":3},"afa4753c-61e7-4cde-a830-40887332bb8c":{"id":"afa4753c-61e7-4cde-a830-40887332bb8c","parent":"bd7c8565-41d2-445c-9df7-05fe5e185a0f","name":"ConnectionManager.js","type":"JS_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"new/ConnectionManager.js","code":"module.exports=function(){\n\n    this.dbConnections = [];\n\n    this.dbConnections[\"hiru\"] = {\n            host: process.env.EndPoint_rdsHiru,\n            port: process.env.Port_rdsHiru,\n            user: process.env.User_rdsHiru,\n            password: process.env.Password_rdsHiru,\n            database: \"hiru\",\n        };\n    };","triggers":[]}},"rootNode":"bd7c8565-41d2-445c-9df7-05fe5e185a0f","openFiles":["df9f0765-b99d-4378-8b2b-dea07adefce8"],"currentFileId":"df9f0765-b99d-4378-8b2b-dea07adefce8","resources":{"apigusEast1Hirutestget":{"name":"apigusEast1Hirutestget","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"Hiru","endpointType":"EDGE","resourceMode":0,"resourceName":"test","resourcePath":"/test","restMethod":"GET","proxyIntegration":false,"enableCORS":false,"stageMode":0,"stageName":"same"},"globallyEditable":true},"ddbThuvvaTable":{"name":"ddbThuvvaTable","type":"DynamoDB","config":{"mode":1,"operation":"get","table":{"arn":"arn:aws:dynamodb:us-east-1:480964559519:table/ThuvvaTable","name":"ThuvvaTable","partitionKey":"ID","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":1},"parameters":{"Key":{"ID":"test"},"Item":{},"ExpressionAttributeValues":{}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false},"s3hirutest":{"name":"s3hirutest","type":"S3","config":{"mode":1,"bucket":{"region":"us-east-1","name":"hiru.test"}},"globallyEditable":false},"rds-hiru":{"name":"rds-hiru","type":"RDS","config":{"editMode":false,"operation":1,"rdsInstance":{"rdsEngineType":"mysql","rdsEdition":"","rdsInstanceSpec":{"dbInstanceClass":"db.t2.micro","dbLicenseModel":"general-public-license","dbEngineVersion":"5.7.19"},"rdsSetting":{"instanceIdentifier":"hiru","masterUsername":"hiru","masterPassword":"hiru123456"},"rdsDBOptions":{"dbName":"hiru","dbPort":"3306"},"rdsInstanceArn":"","Host":"","doesExist":false,"initializationQuery":"","alreadyDeployed":false},"rdsInstanceResources":[],"projectRegion":"us-east-1","mode":0,"additionalFiles":[],"params":{"query":"","inserts":""},"isGlobalEditMode":false,"enableInject":true,"isNewFromGlobal":false},"globallyEditable":true}},"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true},"slappforge-sdk":{"name":"@slappforge/slappforge-sdk","version":"0.0.3","notRemovable":true,"types":"\n                    declare class RDSQueryParams {\n    instanceIdentifier: string;\n    query: string;\n    inserts: Array<any>\n}\n\ndeclare namespace SL.AWS {\n    class RDS {\n        query(params: RDSQueryParams, callback: Function, connection: any): void;\n\n        beginTransaction(params: any, callback: Function): void;\n    }\n\n    class SQS {\n        receiveAndDeleteMessages(params: any, filteringCallBack: Function, deleteCallBack: Function, errorCallBack: Function): void;\n    }\n}\n"},"SL":"0.0.3"}},"lambdaId":"df9f0765-b99d-4378-8b2b-dea07adefce8","additionalFiles":[]},"PROJECT_META":{"projectName":"new","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1","repoName":"new","repoUrl":"https://github.com/hirudinee/new","lastSave":1518770918292}}